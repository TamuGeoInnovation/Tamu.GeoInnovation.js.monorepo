<nav id="off-canvas-menu" [ngClass]="{ active: isActive }">
  <ul>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/sessions']" routerLinkActive="active">Sessions</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/people']" routerLinkActive="active">People</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/competitions']">Competitions</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/faq']">FAQ</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/about']">About</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/sponsors']">Sponsors</a></li>
    <li *ngIf="(loggedIn | async) === false; else offCanvasElse" (click)="toggleMenuButton()"><a [routerLink]="['/login']">Login</a></li>
    <ng-template #offCanvasElse>
      <div *ngIf="(userRole | async) as userRole" id="liAccountMobile">
        <li *ngIf="userRole.role.level_role === '99'"><a [routerLink]="['/admin']">Admin</a></li>
      </div>
      <div id="liAccountMobile">
        <li class="nav-divider">
          <span class="divider-tag">
            Account
          </span>
        </li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-details']">My Details</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-classes']">My Classes</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-checkins']">My Checkins</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-submissions']">My Submissions</a></li>
        <li id="liLogoff" (click)="toggleMenuButton()"><a [routerLink]="['/account/logout']">Logout</a></li>
      </div>
    </ng-template>
  </ul>
</nav>
<div id="element-placeholder"></div>
<header>
  <nav id="main-menu">
    <div class="container12">
      <div id="site-logo">
        <a id="main-logo-container" [routerLink]="['/']">
          <div class="bg-image"></div>
        </a>
      </div>
      <div class="desktop-menu" id="links">
        <ul>
          <a [routerLink]="['sessions']" routerLinkActive="active" id="linkSessions">Sessions</a>
          <a [routerLink]="['people']" routerLinkActive="active" id="linkPresenters">People</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/competitions']" id="linkCompetitions">Competitions</a>

          <ul>
            <li><a [routerLink]="['/competitions/papers']">Paper Competition</a></li>
            <li><a [routerLink]="['/competitions/posters']">Poster Competition</a></li>
            <li><a [routerLink]="['/competitions/vgi']">VGI Competition</a></li>
          </ul>
        </ul>

        <ul>
          <a [routerLink]="['/faq']" id="linkFAQ">FAQ</a>
          <a [routerLink]="['/about']" id="linkAbout">About</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/sponsors']" id="linkSponsors">Sponsors</a>
          <ul>
            <li><a [routerLink]="['/sponsors']" fragment="opportunities">Opportunities</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="current">Current Sponsors</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="logistics">Logistics</a></li>
          </ul>
        </ul>

        <ul *ngIf="(loggedIn | async) === false; else desktopElse" id="liLogin" visible="false">
          <li><a [routerLink]="['/login']" id="linkLogin">Login</a></li>
        </ul>
        <ng-template #desktopElse>
          <ul id="liAccount" visible="false" class="dropdown">
            <a id="linkAccount">Account</a>
            <ul>
              <li><a [routerLink]="['/account/my-details']">My Details</a></li>
              <li><a [routerLink]="['/account/my-classes']">My Classes</a></li>
              <li><a [routerLink]="['/account/my-checkins']">My Checkins</a></li>
              <li><a [routerLink]="['/account/my-submissions']">My Submissions</a></li>
              <li id="liLogoff"><a [routerLink]="['/account/logout']">Logout</a></li>
            </ul>
          </ul>
          <ul *ngIf="(userRole | async) as userRole" id="liAccount" visible="false" class="dropdown">
            <a *ngIf="userRole.role.level_role === '99'" [routerLink]="['/admin']">Admin</a>
          </ul>
        </ng-template>
      </div>
      <div id="menu-button-container" #menuButton [ngClass]="{ active: isActive }" (click)="toggleMenuButton()">
        <div id="menu-button" [ngClass]="{ active: isActive }"></div>
      </div>
    </div>
  </nav>
</header>
