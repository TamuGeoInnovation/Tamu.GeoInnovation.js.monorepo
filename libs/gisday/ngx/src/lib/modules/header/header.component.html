<nav id="off-canvas-menu" [ngClass]="{ active: isActive }">
  <ul>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/sessions']" routerLinkActive="active">Sessions</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/people']" routerLinkActive="active">People</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/competitions']">Competitions</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/faq']">FAQ</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/about']">About</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/sponsors']">Sponsors</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/contact']">Contact</a></li>
    <li (click)="toggleMenuButton()"><a [routerLink]="['/highschool']">High School Portal</a></li>
    <li *ngIf="(loggedIn | async) === false; else offCanvasElse" (click)="toggleMenuButton()"><a [routerLink]="['/login']">Login</a></li>
    <ng-template #offCanvasElse>
      <div *ngIf="(userRole | async) as userRole" id="liAccountMobile">
        <li *ngIf="userRole.role.level_role === '99'"><a [routerLink]="['/admin']">Admin</a></li>
      </div>
      <div id="liAccountMobile">
        <li class="nav-divider">
          <span class="divider-tag">
            Account
          </span>
        </li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-details']">My Details</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-classes']">My Classes</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-checkins']">My Checkins</a></li>
        <li (click)="toggleMenuButton()"><a [routerLink]="['/account/my-submissions']">My Submissions</a></li>
        <li id="liLogoff" (click)="toggleMenuButton()"><a [routerLink]="['/logout']">Logout</a></li>
      </div>
    </ng-template>
  </ul>
</nav>

<header [ngClass]="{seamless: (logoVisible | async) === false}">
  <nav id="main-menu">
    <div id="site-logo">
      <a class="logo-container" [routerLink]="['/']" [ngClass]="{opaque: logoVisible | async}">
        <h1 class="site-logo">
          <span>
            <img src="assets/images/TXGISDaySolo.svg" height="50px" width="50px" />
          </span>
          TxGIS Day <span>2020</span>
        </h1>
      </a>
    </div>

    <div class="desktop-menu">
      <div class="aux">
        <ul>
          <li><a [routerLink]="['/highschool']">High School Portal</a></li>
        </ul>
        <ul>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSdrexFuC3UNjXNJTJf-2BQ9Cp-w5myEcxdJy5htMrUWuQukMg/viewform" target="_blank">Volunteer</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/sponsors']">Sponsor <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/sponsors']" fragment="opportunities">Opportunities</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="current">Current Sponsors</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="logistics">Logistics</a></li>
          </ul>
        </ul>

        <ul class="dropdown" *ngIf="(loggedIn | async); else logInPrompt">
          <a [routerLink]="['/account/my-details']">Account <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/account/my-details']">My Details</a></li>
            <li><a [routerLink]="['/account/my-classes']">My Classes</a></li>
            <li *ngIf="(userRole | async)?.role?.level_role === '99'"><a [routerLink]="['/admin']">Admin</a></li>
            <li><a [routerLink]="['/account/my-checkins']">My Checkins</a></li>
            <li><a [routerLink]="['/account/my-submissions']">My Submissions</a></li>
            <li><a [routerLink]="['/logout']">Logout</a></li>
          </ul>
        </ul>

        <ng-template #logInPrompt>
          <ul>
            <li><a [routerLink]="['/login']">Login/Signup</a></li>
          </ul>
        </ng-template>
      </div>

      <div class="primary">
        <ul>
          <a [routerLink]="['/sessions']">Sessions</a>
          <a [routerLink]="['/people']">Presenters</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/competitions']">Competitions <span class="material-icons">arrow_drop_down</span></a>

          <ul>
            <li><a [routerLink]="['/competitions/highschool']">High School Essay Contest</a></li>
            <li><a [routerLink]="['/competitions/feedback']">Feedback Lottery</a></li>
            <li><a [routerLink]="['/competitions/papers']">Presentation Competition</a></li>
            <li><a [routerLink]="['/competitions/posters']">Poster Competition</a></li>
            <li><a [routerLink]="['/competitions/vgi']">VGI Competition</a></li>
          </ul>
        </ul>

        <ul>
          <a [routerLink]="['/faq']">FAQ</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/about']">About <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/about']" fragment="committee">Organizing Committee</a></li>
            <li><a [routerLink]="['/about']" fragment="student-volunteer">Volunteer Opportunities</a></li>
            <li><a [routerLink]="['/about']" fragment="resume-bank">Resume Bank</a></li>
          </ul>
        </ul>
        <ul>
          <a [routerLink]="['/support/contact']">Contact</a>
        </ul>
      </div>
    </div>

    <div id="menu-button-container">
      <div id="menu-button"></div>
    </div>
  </nav>
</header>
