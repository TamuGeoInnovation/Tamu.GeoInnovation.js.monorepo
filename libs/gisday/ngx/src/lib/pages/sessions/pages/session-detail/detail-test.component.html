<section *ngIf="(event | async) as event">
  <div ui-view class="ng-scope">
    <div class="container12 leader-3 flex flex-row ng-scope">
      <h1 class="aggie-weight-2 clr-aggie-maroon session-title ng-binding">{{event.name}}</h1>
      <div id="qr-toggle" *ngIf="selectedEvent" class="popup ng-scope" href="" magnific-popup>
        <i class="fa fa-qrcode fa-3x"></i>
        <span>Checkin QR</span>
      </div>
    </div>
    <div class="container12 ng-scope" *ngIf="selectedEvent">
      <div class="column10">
        <div id="timeAndPlace" class="trailer-1">
          <p class="ng-binding">{{event.startTime | date:'MMM d, y, h:mm a'}} - {{event.endTime | date:'h:mm a'}}</p>
          <p>
            <a href="{{event.locationLink}}" target="_blank">{{event.locationBuilding}} {{event.locationRoom}}</a>
          </p>
        </div>
        <div class="trailer-2">
          <div class="trailer-1" *ngIf="selectedEvent.abstract !== ''"><p>{{selectedEvent.abstract}}</p></div>
          <div class="accordion">
            <div class="accordion-title" class-toggle="expanded">
              <div>
                <p>Learning Resources <span *ngIf="!selectedEvent.googleDriveUrl || selectedEvent.onlineBroadcastUrl === ''">(None)</span></p>
              </div>
              <div>
                <span class="plus">+</span>
                <span class="minus">-</span>
              </div>
            </div>
            <div class="accordion-content">
              <p>Some resources will only be available at the start of the session.</p>
              <ul>
                <li *ngIf="!selectedEvent.googleDriveUrl || selectedEvent.googleDriveUrl === ''">There are no materials for this session.</li>
                <li *ngIf="!selectedEvent.onlineBroadcastUrl || selectedEvent.onlineBroadcastUrl === ''">There is no online broadcast for this session.</li>
              </ul>
            </div>
          </div>
          <div class="accordion">
            <div class="accordion-title expanded">
              <div>
                <p>Session Requirements <span *ngIf="!selectedEvent.requirements || selectedEvent.requirements ===''">(None)</span></p>
              </div>
              <div>
                <span class="plus">+</span>
                <span class="minus">-</span>
              </div>
            </div>
            <div class="accordion-content">
              <p *ngIf="!selectedEvent.requirements || selectedEvent.requirements === ''">This session has no special requirements.</p>
              <div></div>
            </div>
          </div>
        </div>
        <div class="trailer-1 flex flex-row half-children">
          <div>
            <h3 class="aggie-weight-2">
              Registration (
              <span title="Number of registered participants" *ngIf="(numOfRsvps | async) as rsvps">{{ rsvps }} /</span>
              <span title="Total session capacity"> {{event.capacity}}</span>
              )
            </h3>
            <p *ngIf="event.requiresRsvp === true">This is a limited-seating event. Register to reserve your seat.</p>
            <p *ngIf="event.isAcceptingRsvps">Registration for this event is not open yet.</p>
            <div class="button primary leader-1 disabled" *ngIf="event.isAcceptingRsvps == false">REGISTRATION NOT YET AVAILABLE</div>
          </div>
          <div>
            <h3 class="aggie-weight-2">Checkin</h3>
            <!-- TODO: Finish line 69 -->
            <p *ngIf="(userHasCheckedInAlready | async) as alreadyCheckedIn">Checkin will be available at the start of the session.</p>
          </div>
        </div>
        <div>
          <div class="border-divider leader-2 trailer-2"></div>
          <div class="trailer-2">
            <h3 class="aggie-weight-2 trailer-1">Rate This Session</h3>
            <!-- TODO: Finish these *ngIfs -->
            <div *ngIf="">
              <div *ngIf="">
                <p>This event is currently not underway. The session ratings survey will become available when it begins.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
