<tamu-gisc-hamburger-trigger *ngIf="isMobile$ | async" [active]="mobileNavToggle | async" (poked)="mobileNavToggle.next($event)"></tamu-gisc-hamburger-trigger>

<tamu-gisc-tile-navigation [toggle]="mobileNavToggle" (closed)="mobileNavToggle.next(false)">
  <tamu-gisc-tile>
    <tamu-gisc-tile-icon><div class="material-icons">widgets</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title tamuGiscTileLink location="sessions">Sessions</tamu-gisc-tile-title>
  </tamu-gisc-tile>

  <tamu-gisc-tile>
    <tamu-gisc-tile-icon><div class="material-icons">people</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title tamuGiscTileLink location="presenters">Presenters</tamu-gisc-tile-title>
  </tamu-gisc-tile>

  <tamu-gisc-tile>
    <tamu-gisc-tile-icon><div class="material-icons">workspace_premium</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title tamuGiscTileLink location="competitions">Competitions</tamu-gisc-tile-title>
  </tamu-gisc-tile>

  <tamu-gisc-tile>
    <tamu-gisc-tile-icon><div class="material-icons">question_answer</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title tamuGiscTileLink location="faq">FAQs</tamu-gisc-tile-title>
  </tamu-gisc-tile>

  <tamu-gisc-tile>
    <tamu-gisc-tile-icon><div class="material-icons">info</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title>About</tamu-gisc-tile-title>
    <tamu-gisc-tile-submenu *giscTileSubmenu>
      <p tamuGiscTileLink location="/about">About TxGIS Day</p>
      <p tamuGiscTileLink location="/sponsors">Sponsors</p>
      <p tamuGiscTileLink location="https://docs.google.com/forms/d/e/1FAIpQLSd4fo6hIB-HVPbYJ4xO-ncZ3yMOEA_yDkBGhUr8jqShFAsOHg/viewform">Volunteer</p>
      <p tamuGiscTileLink location="/highschool">High School Portal</p>
    </tamu-gisc-tile-submenu>
  </tamu-gisc-tile>

  <tamu-gisc-tile *ngIf="(loggedIn$ | async) === false; else loggedInMobile">
    <tamu-gisc-tile-icon><div class="material-icons">login</div></tamu-gisc-tile-icon>
    <tamu-gisc-tile-title (click)="login()">Login</tamu-gisc-tile-title>
  </tamu-gisc-tile>

  <ng-template #loggedInMobile>
    <tamu-gisc-tile>
      <tamu-gisc-tile-icon><div class="material-icons">account_circle</div></tamu-gisc-tile-icon>
      <tamu-gisc-tile-title>Account</tamu-gisc-tile-title>
      <tamu-gisc-tile-submenu *giscTileSubmenu>
        <p tamuGiscTileLink location="/account/my-details">My Details</p>
        <p tamuGiscTileLink location="/account/my-classes">My Classes</p>
        <p tamuGiscTileLink location="/account/my-checkins">My Checkins</p>
        <p tamuGiscTileLink location="/account/my-submissions">My Submissions</p>
        <p (click)="logout()">Logout</p>
      </tamu-gisc-tile-submenu>
    </tamu-gisc-tile>
  </ng-template>
</tamu-gisc-tile-navigation>

<header>
  <nav id="main-menu">
    <div [ngStyle]="{visibility: (logoVisible$ | async) === false ? 'hidden' : 'visible'}" id="site-logo">
      <a class="logo-container" [routerLink]="['/']">
        <h1 class="site-logo">
          <span class="site-logo-image-container">
            <img src="\assets\images\TXGISDaySolo.svg" height="50px" width="50px" />
          </span>
          TxGIS Day <span *ngIf="(activeSeason$ | async)?.year as year">{{year}}</span>
        </h1>
      </a>
    </div>

    <div class="desktop-menu">
      <div class="aux">
        <ul>
          <li><a [routerLink]="['/highschool']">High School Portal</a></li>
        </ul>
        <ul>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSd4fo6hIB-HVPbYJ4xO-ncZ3yMOEA_yDkBGhUr8jqShFAsOHg/viewform" target="_blank">Volunteer</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/sponsors']" id="linkSponsors">Sponsor <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/sponsors']" fragment="opportunities">Opportunities</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="current">Current Sponsors</a></li>
            <li><a [routerLink]="['/sponsors']" fragment="logistics">Logistics</a></li>
          </ul>
        </ul>

        <ul class="dropdown" *ngIf="(loggedIn$ | async); else logInPrompt">
          <a [routerLink]="['/account/my-details']" id="linkAccount">Account <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/account/my-details']">My Details</a></li>
            <li><a [routerLink]="['/account/my-classes']">My Classes</a></li>
            <li *ngIf="(userRoles$ | async) | hasRoles :  [appRoles.ADMIN, appRoles.MANAGER, appRoles.ORGANIZER]"><a [routerLink]="['/admin']">Admin</a></li>
            <li><a [routerLink]="['/account/my-checkins']">My Checkins</a></li>
            <li><a [routerLink]="['/account/my-submissions']">My Submissions</a></li>
            <li><a (click)="logout()">Logout</a></li>
          </ul>
        </ul>

        <ng-template #logInPrompt>
          <ul id="liLogin">
            <a (click)="login()" id="linkLogin">Login/Signup</a>
          </ul>
        </ng-template>
      </div>

      <div class="primary">
        <ul>
          <a [routerLink]="['/sessions']" id="linkSessions">Sessions</a>
          <a [routerLink]="['/presenters']" id="linkPresenters">Presenters</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/competitions']" id="linkCompetitions">Competitions <span class="material-icons">arrow_drop_down</span></a>

          <ul>
            <li><a [routerLink]="['/competitions/highschool']">High School Essay Contest</a></li>
            <li><a [routerLink]="['/competitions/feedback']">Feedback Lottery</a></li>
            <li><a [routerLink]="['/competitions/presentation']">Presentation Competition</a></li>
            <li><a [routerLink]="['/competitions/posters']">Poster Competition</a></li>
            <li><a [routerLink]="['/competitions/vgi']">VGI Competition</a></li>
          </ul>
        </ul>

        <ul>
          <a [routerLink]="['/faq']" id="linkFAQ">FAQ</a>
        </ul>

        <ul class="dropdown">
          <a [routerLink]="['/about']" id="linkAbout">About <span class="material-icons">arrow_drop_down</span></a>
          <ul>
            <li><a [routerLink]="['/about']" fragment="committee">Organizing Committee</a></li>
            <li><a [routerLink]="['/about']" fragment="student-volunteer">Volunteer Opportunities</a></li>
            <li><a [routerLink]="['/about']" fragment="resume-bank">Resume Bank</a></li>
          </ul>
        </ul>
        <ul>
          <a [routerLink]="['/contact']" id="linkContact">Contact</a>
        </ul>
      </div>
    </div>
  </nav>
</header>
