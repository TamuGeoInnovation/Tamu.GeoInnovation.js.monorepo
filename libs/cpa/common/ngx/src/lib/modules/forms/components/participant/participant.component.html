<div class="snap-scen-header">
  <div id="headings">
    <h2>{{ (snapshot | async)?.title }}</h2>
    <h3>{{ (workshop | async)?.title }}</h3>
  </div>

  <div id="tooltips">
    <ng-container></ng-container>
    <tamu-gisc-tooltip positioningStrategy="fixed" width="20rem">
      <tamu-gisc-tooltip-trigger><span class="material-icons">help_outline</span></tamu-gisc-tooltip-trigger>
      <div id="snap-scen-help-text">
        <ng-container *ngIf="(snapshot | async)?.type === 'snapshot'; else scenarioTooltip">
          <h3>What's a snapshot?</h3>
          <p><strong>Snapshots</strong> show basic overviews of the existing conditions with layers for hazard exposures, physical vulnerabilities, and social vulnerabilities that reveal hotspots of concern. Participants will “ground- truth” by providing missing or additional points and polygons, which could reveal hotspots of concern.</p>
        </ng-container>

        <ng-template #scenarioTooltip>
          <h3>What's a scenario?</h3>
          <p><strong>Scenarios</strong> are created by using Snapshots of existing community conditions to generate new layers. These are layers created by your community while using the tool, to show potential areas for future growth, development, and construction - based on the existing built and natural environments, as well as the areas of concern discovered during the snapshot phase.</p>
        </ng-template>
      </div>
    </tamu-gisc-tooltip>
  </div>
</div>

<p class="snapshot-description">{{ (snapshot | async)?.description }}</p>

<form [formGroup]="form">
  <div class="form-section">
    <div class="form-section-body">
      <div class="form-collection row">
        <tamu-gisc-textbox type="text" placeholder="Name (Optional)" floatLabel="true" formControlName="name"></tamu-gisc-textbox>
      </div>

      <div class="form-collection row">
        <tamu-gisc-textbox type="textarea" placeholder="Notes (Optional)" floatLabel="true" formControlName="notes"></tamu-gisc-textbox>
      </div>

      <div class="sidebar-component-content-container">
        <div class="sidebar-component-name">
          <p>Drawing Tools</p>
        </div>
        <tamu-gisc-map-draw-advanced [reference]="'drawing-layer'" (export)="handleDrawSelection($event)" [colorTools]="true" [reshapeTool]="false" [helpTools]="true"></tamu-gisc-map-draw-advanced>
      </div>
    </div>
  </div>
</form>

<div class="save-status" [ngClass]="{unsaved: (saveStatus | async) === 0, 'saving': (saveStatus | async) === 1, 'saved': (saveStatus | async) === 2, 'error': (saveStatus | async) === 3}">
  <div class="save-status-indicator" *ngIf="(saveStatus | async) !== null"></div>
  <div class="save-status-text" [ngSwitch]="saveStatus | async">
    <div *ngSwitchCase="0">Unsaved changes</div>
    <div *ngSwitchCase="1">Saving...</div>
    <div *ngSwitchCase="2">All changes saved!</div>
    <div *ngSwitchCase="3">Error saving</div>
    <div *ngSwitchDefault></div>
  </div>
</div>
