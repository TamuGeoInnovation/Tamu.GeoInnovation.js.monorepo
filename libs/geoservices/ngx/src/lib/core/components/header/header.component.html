<header class="" *ngIf="(rs.isMobile | async) === false">
  <div class="container12">
    <nav class="column12">
      <img class="logo" src="assets/img/logos/logo-2.svg" alt="Geoservices Logo" [routerLink]="['/']" [routerLinkActiveOptions]="{exact: true}" routerLinkActive="router-link-active" />

      <div class="menu">
        <ul>
          <li class="dropdown">
            <a [routerLink]="['services']" routerLinkActive="router-link-active" class="dropdown__link">Services <span class="material-icons">keyboard_arrow_down</span></a>
            <ul class="dropdown__menu" [ngClass]="{'no-pointer': ignorePointerEvents | async}">
              <li>
                <a [routerLink]="['services/address-processing']" routerLinkActive="router-link-active">Address Processing</a>
                <p class="dropdown__menu__descriptor">Turn unstructured data into neat columns of address fields.</p>

                <div class="dropdown__menu__submenu">
                  <li>
                    <a [routerLink]="['services/address-processing']" routerLinkActive="router-link-active">Demo</a>
                    <p class="dropdown__menu__descriptor">Take address processing for a test drive and see if its right for you.</p>
                  </li>

                  <li>
                    <a [routerLink]="['services/address-processing/interactive']" routerLinkActive="router-link-active">Interactive</a>
                    <p class="dropdown__menu__descriptor">Stand-alone interactive address processing with all knobs and dials.</p>
                  </li>

                  <li>
                    <a [href]="url + '/Services/AddressNormalization/BatchProcess/Step1.aspx'" routerLinkActive="router-link-active">Batch processing</a>
                    <p class="dropdown__menu__descriptor">Upload or select from your databases to process addresses in batch.</p>
                  </li>
                </div>
              </li>

              <li>
                <a [routerLink]="['services/geocoding']" routerLinkActive="router-link-active">Geocoding</a>
                <p class="dropdown__menu__descriptor">Turn address data into latitude and longitude values.</p>

                <div class="dropdown__menu__submenu">
                  <li>
                    <a [routerLink]="['services/geocoding']" routerLinkActive="router-link-active">Demo</a>
                    <p class="dropdown__menu__descriptor">Take geocoding for a test drive and see if its right for you.</p>
                  </li>

                  <li>
                    <a [routerLink]="['services/geocoding/interactive']" routerLinkActive="router-link-active">Interactive</a>
                    <p class="dropdown__menu__descriptor">Stand-alone interactive geocoding with all knobs and dials.</p>
                  </li>

                  <li>
                    <a [href]="url + '/Services/Geocode/BatchProcess/Step1.aspx'" routerLinkActive="router-link-active">Batch processing</a>
                    <p class="dropdown__menu__descriptor">Upload or select from your databases to geocode in batch.</p>
                  </li>
                </div>
              </li>

              <li>
                <a [routerLink]="['services/reverse-geocoding']" routerLinkActive="router-link-active">Reverse Geocoding</a>
                <p class="dropdown__menu__descriptor">Convert latitude and longitude data into postal address values.</p>

                <div class="dropdown__menu__submenu">
                  <li>
                    <a [routerLink]="['services/reverse-geocoding']" routerLinkActive="router-link-active">Demo</a>
                    <p class="dropdown__menu__descriptor">Take reverse geocoding for a test drive and see if its right for you.</p>
                  </li>

                  <li>
                    <a [routerLink]="['services/reverse-geocoding/interactive']" routerLinkActive="router-link-active">Interactive</a>
                    <p class="dropdown__menu__descriptor">Stand-alone interactive reverse geocoding with all knobs and dials.</p>
                  </li>

                  <li>
                    <a [href]="url + '/Services/ReverseGeocoding/BatchProcess/Step1.aspx'" routerLinkActive="router-link-active">Batch processing</a>
                    <p class="dropdown__menu__descriptor">Upload or select from your databases to reverse geocode in batch.</p>
                  </li>
                </div>
              </li>

              <li>
                <a [routerLink]="['services/census-intersection']" routerLinkActive="router-link-active">Census Intersection</a>
                <p class="dropdown__menu__descriptor">Associate census variables with latitude and longitude data.</p>

                <div class="dropdown__menu__submenu">
                  <li>
                    <a [routerLink]="['services/census-intersection']" routerLinkActive="router-link-active">Demo</a>
                    <p class="dropdown__menu__descriptor">Take census intersection for a test drive and see if its right for you.</p>
                  </li>

                  <li>
                    <a [routerLink]="['services/census-intersection/interactive']" routerLinkActive="router-link-active">Interactive</a>
                    <p class="dropdown__menu__descriptor">Stand-alone interactive census intersection with all knobs and dials.</p>
                  </li>

                  <li>
                    <a [href]="url + '/Services/CensusIntersection/BatchProcess/Step1.aspx'" routerLinkActive="router-link-active">Batch processing</a>
                    <p class="dropdown__menu__descriptor">Upload or select from your databases to process census intersections in batch.</p>
                  </li>
                </div>
              </li>
            </ul>
          </li>

          <li>
            <a [routerLink]="['pricing']">Pricing</a>
          </li>

          <li class="dropdown">
            <a href="">Support <span class="material-icons">keyboard_arrow_down</span></a>
            <ul class="dropdown__menu" [ngClass]="{'no-pointer': ignorePointerEvents | async}">
              <li>
                <a [routerLink]="['./contact/bug-report']">Bug Reporting</a>
                <p class="dropdown__menu__descriptor">Found a pesky bug? Report it to us and we'll squash it.</p>
              </li>
              <li>
                <a [routerLink]="['./contact/address-correction']">Submit Address Correction</a>
                <p class="dropdown__menu__descriptor">Help us keep our database as up to date and accurate as possible by correcting less-than-perfect results.</p>
              </li>
              <li>
                <a [routerLink]="['./contact']">Contact Us</a>
                <p class="dropdown__menu__descriptor">Talk to a human for any inquiries!</p>
              </li>
            </ul>
          </li>

          <li>
            <a [routerLink]="['docs']">Docs</a>
          </li>
        </ul>

        <a [href]="url + '/Login/'" *ngIf="(loggedIn | async) === false; else loggedInMenuOptions">Login</a>

        <ng-template #loggedInMenuOptions>
          <ul>
            <li class="dropdown offset-left">
              <a [routerLink]="['services']" routerLinkActive="router-link-active" class="dropdown__link">Account <span class="material-icons">keyboard_arrow_down</span></a>

              <ul class="dropdown__menu">
                <li>
                  <a [href]="url + '/UserServices/Profile'">Settings</a>
                  <p class="dropdown__menu__descriptor">View and update personal, security, and billing information.</p>
                </li>

                <li>
                  <a [href]="url + '/UserServices/Databases/Current/'">Databases</a>
                  <p class="dropdown__menu__descriptor">Upload and manage your existing databases.</p>
                </li>

                <li>
                  <a [href]="url + '/UserServices/Processes/'">Processes</a>
                  <p class="dropdown__menu__descriptor">View ongoing and previous batch processes.</p>
                </li>

                <li>
                  <a [href]="url + '/UserServices/UsageHistory/Transactions/'">Transactions</a>
                  <p class="dropdown__menu__descriptor">See where all of your service credits have been used.</p>
                </li>

                <li *ngIf="(isManager | async)">
                  <a [href]="url + '/Management/'">Admin</a>
                  <p class="dropdown__menu__descriptor">Administrator tools for administrators only.</p>
                </li>

                <li>
                  <a [href]="url + '/Logout'">Logout</a>
                  <p class="dropdown__menu__descriptor">Securely end your session.</p>
                </li>
              </ul>
            </li>
          </ul>
        </ng-template>
      </div>
    </nav>
  </div>
</header>

<tamu-gisc-revival-banner></tamu-gisc-revival-banner>

<!-- Persistent mobile header -->
<tamu-gisc-header-mobile *ngIf="(rs.isMobile | async)"></tamu-gisc-header-mobile>

<!-- Persistent tile nav menu trigger -->
<tamu-gisc-hamburger-trigger *ngIf="rs.isMobile | async" [active]="mobileNavToggle | async" (poked)="mobileNavToggle.next($event)"></tamu-gisc-hamburger-trigger>

<ng-container *ngIf="(rs.isMobile | async)">
  <tamu-gisc-tile-navigation [toggle]="mobileNavToggle" (closed)="mobileNavToggle.next(false)">
    <tamu-gisc-tile>
      <tamu-gisc-tile-icon><div class="material-icons">widgets</div></tamu-gisc-tile-icon>
      <tamu-gisc-tile-title>Services</tamu-gisc-tile-title>
      <tamu-gisc-tile-submenu *giscTileSubmenu>
        <div class="submenu__row" *giscAccordion="let parent">
          <div class="row__title" [giscAccordionHeader]="parent" [ngClass]="{active: parent.expanded}">Address Processing <span class="material-icons">expand_more</span></div>
          <div class="row__content" *giscAccordionContent="parent.expanded" [@growAnimation]>
            <ul>
              <li tamuGiscTileLink location="services/address-processing">Demo</li>
              <li tamuGiscTileLink location="services/address-processing/interactive">Interactive</li>
              <li tamuGiscTileLink [location]="url + '/Services/AddressNormalization/BatchProcess/Step1.aspx'">Batch Processing</li>
              <li tamuGiscTileLink location="docs/address-processing">API Documentation</li>
            </ul>
          </div>
        </div>

        <div class="submenu__row" *giscAccordion="let parent">
          <div class="row__title" [giscAccordionHeader]="parent" [ngClass]="{active: parent.expanded}">Geocoding <span class="material-icons">expand_more</span></div>
          <div class="row__content" *giscAccordionContent="parent.expanded" [@growAnimation]>
            <ul>
              <li tamuGiscTileLink location="services/geocoding">Demo</li>
              <li tamuGiscTileLink location="services/geocoding/interactive">Interactive</li>
              <li tamuGiscTileLink [location]="url + '/Services/Geocode/BatchProcess/Step1.aspx'">Batch Processing</li>
              <li tamuGiscTileLink location="docs/geocoding">API Documentation</li>
            </ul>
          </div>
        </div>

        <div class="submenu__row" *giscAccordion="let parent">
          <div class="row__title" [giscAccordionHeader]="parent" [ngClass]="{active: parent.expanded}">Reverse Geocoding <span class="material-icons">expand_more</span></div>
          <div class="row__content" *giscAccordionContent="parent.expanded" [@growAnimation]>
            <ul>
              <li tamuGiscTileLink location="services/reverse-geocoding">Demo</li>
              <li tamuGiscTileLink location="services/reverse-geocoding/interactive">Interactive</li>
              <li tamuGiscTileLink [location]="url + '/Services/ReverseGeocoding/BatchProcess/Step1.aspx'">Batch Processing</li>
              <li tamuGiscTileLink location="docs/reverse-geocoding">API Documentation</li>
            </ul>
          </div>
        </div>

        <div class="submenu__row" *giscAccordion="let parent">
          <div class="row__title" [giscAccordionHeader]="parent" [ngClass]="{active: parent.expanded}">Census Intersection <span class="material-icons">expand_more</span></div>
          <div class="row__content" *giscAccordionContent="parent.expanded" [@growAnimation]>
            <ul>
              <li tamuGiscTileLink location="services/census-intersection">Demo</li>
              <li tamuGiscTileLink location="services/census-intersection/interactive">Interactive</li>
              <li tamuGiscTileLink [location]="url + '/Services/CensusIntersection/BatchProcess/Step1.aspx'">Batch Processing</li>
              <li tamuGiscTileLink location="docs/census-intersection">API Documentation</li>
            </ul>
          </div>
        </div>
      </tamu-gisc-tile-submenu>
    </tamu-gisc-tile>

    <tamu-gisc-tile>
      <tamu-gisc-tile-icon><div class="material-icons">attach_money</div></tamu-gisc-tile-icon>
      <tamu-gisc-tile-title>Pricing</tamu-gisc-tile-title>
      <tamu-gisc-tile-submenu *giscTileSubmenu>
        <div class="submenu__row" tamuGiscTileLink location="pricing">Paid Plans</div>
        <div class="submenu__row" tamuGiscTileLink location="pricing" fragment="free-tier">Free Usage</div>
        <div class="submenu__row" tamuGiscTileLink location="pricing" fragment="refund-policy">Refund Policy</div>
      </tamu-gisc-tile-submenu>
    </tamu-gisc-tile>

    <tamu-gisc-tile>
      <tamu-gisc-tile-icon><div class="material-icons">help_outline</div></tamu-gisc-tile-icon>
      <tamu-gisc-tile-title>Support</tamu-gisc-tile-title>
      <tamu-gisc-tile-submenu *giscTileSubmenu>
        <div class="submenu__row" tamuGiscTileLink location="contact/bug-report">Bug Reporting</div>
        <div class="submenu__row" tamuGiscTileLink location="contact/address-correction">Submit Address Correction</div>
        <div class="submenu__row" tamuGiscTileLink location="contact">Contact Us</div>
      </tamu-gisc-tile-submenu>
    </tamu-gisc-tile>

    <tamu-gisc-tile *ngIf="(loggedIn | async) === false; else mobileLoggedInTile">
      <tamu-gisc-tile-icon><div class="material-icons">person_outline</div></tamu-gisc-tile-icon>
      <tamu-gisc-tile-title tamuGiscTileLink [location]="url + '/Login/'">Login</tamu-gisc-tile-title>
    </tamu-gisc-tile>

    <ng-template #mobileLoggedInTile>
      <tamu-gisc-tile>
        <tamu-gisc-tile-icon><div class="material-icons">person_outline</div></tamu-gisc-tile-icon>
        <tamu-gisc-tile-title>Account</tamu-gisc-tile-title>
        <tamu-gisc-tile-submenu *giscTileSubmenu>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/UserServices/Profile'">Settings</div>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/UserServices/Databases/Current/'">Databases</div>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/UserServices/Processes/'">Processes</div>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/UserServices/UsageHistory/Transactions/'">Transactions</div>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/Management/'" *ngIf="isManager | async">Admin</div>
          <div class="submenu__row" tamuGiscTileLink [location]="url + '/Logout'">Logout</div>
        </tamu-gisc-tile-submenu>
      </tamu-gisc-tile>
    </ng-template>
  </tamu-gisc-tile-navigation>
</ng-container>
