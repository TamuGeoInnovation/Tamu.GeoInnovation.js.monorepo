<div class="sidebar-component-name">
  <span class="material-icons" *ngIf="responsive?.isMobile" (click)="backAction()">arrow_back</span>
  <p>Legend</p>
</div>

<div class="sidebar-component-content-container">
  <div class="legend-collection" *ngFor="let group of legendItems | async">
    <div class="legend-element" *ngFor="let element of group.legendElements">
      <!-- If there is only one legend element, don't apply a group title. Will apply the parent label on the 
    single child so that there aren't groups with a single child, because it will break the cleanliness
    of the table -->
      <div class="element-parent-name" *ngIf="element.infos.length > 1">{{ group.title }}</div>

      <!-- Switch through the different element types. The default is a "not supported" message printout. -->
      <ng-container [ngSwitch]="element.type">
        <!-- For SymbolTable element type -->
        <div *ngSwitchCase="'symbol-table'" class="element-group">
          <div class="legend-info" *ngFor="let info of element.infos">
            <div class="image-container" [elementInsert]="info.preview"></div>
            <!-- Apply the legend item from the parent group or child -->
            <div>{{element.infos.length === 1 ? group?.title: info?.label}}</div>
          </div>
        </div>

        <!-- Default printout -->
        <div *ngSwitchDefault>Unsupported legend element type: {{element.type}}</div>
      </ng-container>
    </div>
  </div>
</div>
